<div class="all">
    <form id="register-form" action="/register">
        <h1> Sign Up</h1>
        <div class=register-row>
            <input class="text-input" id="register-username" type="text" name="Username" required value="">
            <h1 class="label">User Name</h1>
        </div>
        <div class=register-row>
            <input class="text-input" id="register-password" type="password" name="Password" required>
            <h1 class="label">password</h1>
        </div>
        <div class=register-row>

            
            <input class="text-input" id="register-confirm-password" type="password" name="Confirm Password"
                required>
                <h1 class="label">password</h1>
        </div>

        <input class="submit" type="submit" value="Sign Up">

</form>

<form id="login-form" action="/authenticate">
    <h1 >Log In</h1>
    <input class="text-input" id="login-username" class="grayBorder" type="text" name="Username" placeholder="Username">
    <input class="text-input" id="login-password" class="grayBorder" type="password" name="Password" placeholder="Password">
    <input class="submit" type="submit" value="LogIn">
</form>

</div>

<link rel="stylesheet" href="../stylesheets/authenticate.css">
<script>
    const loginForm = document.querySelector('#login-form');
    const loginUsername = document.querySelector('#login-username');
    const loginPassword = document.querySelector('#login-password');

    const usernameRegExp = /(?=.{3,})/;
    const passwordRegExp = /(?=.{8,})/;

    const verifyLogin = (event) => {
        event.preventDefault();

        let failed = false;

        if (!usernameRegExp.test(loginUsername.value)) {
            loginUsername.className = loginUsername.className.replace('grayBorder', 'redBorder');
            failed = true;
        } else {
            loginUsername.className = loginUsername.className.replace('redBorder', 'grayBorder');
        }

        if (!passwordRegExp.test(loginPassword.value)) {
            loginPassword.className = loginPassword.className.replace('grayBorder', 'redBorder');
            failed = true;
        } else {
            loginPassword.className = loginPassword.className.replace('redBorder', 'grayBorder');
        }

        if (failed) {
            //errSpan.style.display = 'flex';
            return;
        }

        //AUTHENTICATE HERE
    };

    loginForm.addEventListener('submit', verifyLogin);
</script>



<script>
    const registerform = document.querySelector('#register-form');
    const registerUsername = document.querySelector('#register-username');
    const registerPassword = document.querySelector('register-password');
    const egisterConfirmPassword = document.querySelector('#egister-confirm-password');

    const usernameRegExp = /(?=.{3,})/;
    const passwordRegExp = /(?=.{8,})/;

    const verifyLogin = (event) => {
        event.preventDefault();

        let failed = false;

        if (!usernameRegExp.test(loginUsername.value)) {
            loginUsername.className = loginUsername.className.replace('grayBorder', 'redBorder');
            failed = true;
        } else {
            loginUsername.className = loginUsername.className.replace('redBorder', 'grayBorder');
        }

        if (!passwordRegExp.test(registerPassword.value)) {
            registerPassword.className = registerPassword.className.replace('grayBorder', 'redBorder');
            failed = true;
        } else {
            registerPassword.className = registerPassword.className.replace('redBorder', 'grayBorder');
        }
        if (!passwordRegExp.test(registerPassword.value)) {
            egisterConfirmPassword.className = loginPassword.className.replace('grayBorder', 'redBorder');
            failed = true;
        } else {
            loginPassword.className = loginPassword.className.replace('redBorder', 'grayBorder');
        }

        if (failed) {
            //errSpan.style.display = 'flex';
            return;
        }

        //AUTHENTICATE HERE
    };

    loginForm.addEventListener('submit', verifyLogin);
</script